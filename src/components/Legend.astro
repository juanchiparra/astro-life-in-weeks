---
const { legends } = Astro.props as {
    legends: { class: string; description: string }[];
};
---

<section class="legend" aria-labelledby="legend-title">
    <div class="legend-container" role="list">
        <p tabindex="0" aria-label="Legend" id="legend-title">Events</p>
        {
            legends.map((legend) => (
                <div class="legend-item" role="listitem">
                    <div
                        class={`week ${legend.class}`}
                        tabindex="0"
                        aria-label={legend.description}
                    >
                        {legend.description}
                    </div>
                </div>
            ))
        }
    </div>
</section>

<style>
    .legend-container {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        justify-content: center;
    }

    .legend-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .legend-item .week {
        height: 32px;
        border: 1px solid var(--border);
        padding: 0 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }

    p {
        font-size: var(--h3);
        font-family: var(--font);
        font-weight: var(--font-weight-m);
        margin: var(--margin-s);
    }

    @media (max-width: 768px) {
        p {
            font-size: var(--h3);
        }

        .legend-item .week {
            height: 28px;
            font-size: 0.875rem;
        }
    }

    @media (max-width: 480px) {
        p {
            font-size: var(--h4);
        }

        .legend-item .week {
            height: 24px;
            font-size: 0.75rem;
        }
    }

    .week:focus {
        outline-offset: 2px;
    }
</style>
